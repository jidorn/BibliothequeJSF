<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="/WEB-INF/template/template.xhtml">
    <ui:define name="titre">#{trad.titrePageRechercheAuteur}</ui:define>
    <ui:define name="mainPage">
        <f:event type="preRenderView" listener="#{mbRechercheAuteur.rechercher}"/>
        <div class="formulaire row">
            <div class="alignCenter row">
                <label>#{trad.nomAuteur}<h:inputText
                        value="#{mbRechercheAuteur.nomRecherche}"/>
                </label>
                <h:commandButton action="#{mbRechercheAuteur.loadRecherche}"
                                 value="#{trad.boutonRechercher}"/>
            </div>
            <h:panelGroup rendered="#{not empty mbRechercheAuteur.listeAuteurs}">
                <div class="center row">
                    <table>
                        <tr>
                            <th>#{trad.idAuteur}</th>
                            <th>#{trad.nomAuteur}</th>
                            <th>#{trad.prenomAuteur}</th>
                            <th>#{trad.liensLivre}</th>
                        </tr>

                        <ui:repeat var="auteur" value="#{mbRechercheAuteur.listeAuteurs}">
                            <tr>
                                <td><h:outputText value="#{auteur.idAuteur}"/></td>
                                <td><h:outputText value="#{auteur.nom}"/></td>
                                <td><h:outputText value="#{auteur.prenom}"/></td>
                                <td><h:commandLink value="#{trad.boutonVoirLivre}"
                                                   action="#{mbLivresAuteur.recupLivreAuteur(auteur.idAuteur)}"/>
                                </td>
                            </tr>
                        </ui:repeat>
                    </table>
                </div>
            </h:panelGroup>
        </div>
    </ui:define>
</ui:composition>
</html>
